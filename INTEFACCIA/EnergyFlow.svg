<svg xmlns="http://www.w3.org/2000/svg" viewBox="200 100 1200 400" width="100%" height="700">
  <defs>
    <linearGradient id="bgGradient" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#020617"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2.5" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <g transform="scale(1.5)">
    <!-- CONNESSIONI CURVE -->
    <path id="path-up"
          d="M310 235 Q550 120 790 235"
          stroke="#22d3ee"
          stroke-width="2.8"
          fill="none"
          stroke-linecap="round"
          opacity="0.65"
          filter="url(#glow)"/>

    <!-- SCL3300 (Sensore) -->
    <g id="sensor" transform="translate(160,190)">
      <rect width="150" height="90" rx="14" ry="14" stroke="#22d3ee" fill="rgba(15,23,42,0.92)" filter="url(#glow)"/>
      <text x="75" y="38" text-anchor="middle" font-family="Inter" font-size="15" fill="#f1f5f9" font-weight="600">SCL3300</text>
      <text x="75" y="58" text-anchor="middle" font-size="12" fill="#94a3b8">Sensor</text>
      <!-- Icona activity -->
      <svg xmlns="http://www.w3.org/2000/svg" x="62" y="2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-icon lucide-code"><path d="m16 18 6-6-6-6"/><path d="m8 6-6 6 6 6"/></svg>
    </g>

    <!-- STM32WL (Board) -->
    <g id="board" transform="translate(470,130)">
      <rect width="150" height="90" rx="14" ry="14" stroke="#22d3ee" fill="rgba(15,23,42,0.92)" filter="url(#glow)"/>
      <text x="75" y="38" text-anchor="middle" font-family="Inter" font-size="15" fill="#f1f5f9" font-weight="600">STM32WL</text>
      <text x="75" y="58" text-anchor="middle" font-size="12" fill="#94a3b8">LoRa Board</text>
      <!-- Icona radio -->
      <svg xmlns="http://www.w3.org/2000/svg" x="62" y="2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circuit-board-icon lucide-circuit-board"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M11 9h4a2 2 0 0 0 2-2V3"/><circle cx="9" cy="9" r="2"/><path d="M7 21v-4a2 2 0 0 1 2-2h4"/><circle cx="15" cy="15" r="2"/></svg>
    </g>

    <!-- MQTT Gateway (Modem) -->
    <g id="modem" transform="translate(780,190)">
      <rect width="150" height="90" rx="14" ry="14" stroke="#22d3ee" fill="rgba(15,23,42,0.92)" filter="url(#glow)"/>
      <text x="75" y="38" text-anchor="middle" font-family="Inter" font-size="15" fill="#f1f5f9" font-weight="600">MQTT Gateway</text>
      <text x="75" y="58" text-anchor="middle" font-size="12" fill="#94a3b8">Modem / Broker</text>
      <!-- Icona wifi -->
      <svg xmlns="http://www.w3.org/2000/svg" x="62" y="2" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-radio-tower-icon lucide-radio-tower"><path d="M4.9 16.1C1 12.2 1 5.8 4.9 1.9"/><path d="M7.8 4.7a6.14 6.14 0 0 0-.8 7.5"/><circle cx="12" cy="9" r="2"/><path d="M16.2 4.8c2 2 2.26 5.11.8 7.47"/><path d="M19.1 1.9a9.96 9.96 0 0 1 0 14.1"/><path d="M9.5 18h5"/><path d="m8 22 4-11 4 11"/></svg>
    </g>

    <!-- PAYLOAD -->
    <circle id="payload-up" r="6" fill="#22d3ee" opacity="0" filter="url(#glow)">
      <animateMotion dur="1.2s" repeatCount="1" fill="freeze">
        <mpath href="#path-up"/>
      </animateMotion>
    </circle>

    <circle id="payload-down" r="6" fill="#22d3ee" opacity="0" filter="url(#glow)">
      <animateMotion dur="1.2s" repeatCount="1" fill="freeze">
        <mpath href="#path-down"/>
      </animateMotion>
    </circle>
  </g>
</svg>


